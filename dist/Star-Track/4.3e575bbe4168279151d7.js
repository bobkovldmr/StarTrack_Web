(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0m3x":function(l,n,t){"use strict";t.r(n);var u=t("LoAr"),e=function(){},o=t("AnD+"),i=t("ELsb"),a=t("981U"),s=t("WT9V"),r=(t("Buq+"),t("Vb0S"),function(){function l(l,n,t,u){this.router=l,this.event=n,this.storage=t,this.menuCtrl=u,this.favorites=[]}return l.prototype.ngOnInit=function(){var l=this;this.getKeys(),this.event.subscribe("songAdded",function(n){l.favorites.push(n)}),this.event.subscribe("songRemoved",function(n){l.favorites.splice(l.favorites.indexOf(n),1)})},l.prototype.getKeys=function(){var l=this;this.storage.forEach(function(n){l.favorites.push(n)})},l.prototype.goToDetail=function(l){var n=this;this.menuCtrl.close().then(function(){n.router.navigateByUrl("/app/detail/"+l.trackId)})},l}()),c=t("g4/Q"),h=t("byp3"),f=t("AxIn"),p=u.Ia({encapsulation:0,styles:[["[_nghost-%COMP%]{bottom:0;contain:layout size style;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:0}"]],data:{}});function d(l){return u.gb(0,[(l()(),u.Ka(0,0,null,null,10,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,null,null)),u.Ja(1,16384,null,0,o.M,[u.l],null,null),(l()(),u.Ka(2,0,null,null,8,"ion-item",[],null,[[null,"click"]],function(l,n,t){var e=!0,o=l.component;return"click"===n&&(e=!1!==u.Ta(l,4).onClick(t)&&e),"click"===n&&(e=!1!==o.goToDetail(l.context.$implicit)&&e),e},null,null)),u.Ja(3,16384,null,0,o.B,[u.l],null,null),u.Ja(4,16384,null,0,i.a,[[2,a.l],u.l],null,null),(l()(),u.Ka(5,0,null,null,5,"ion-label",[],null,null,null,null,null)),u.Ja(6,16384,null,0,o.H,[u.l],null,null),(l()(),u.Ka(7,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),u.eb(8,null,["",""])),(l()(),u.Ka(9,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u.eb(10,null,["by ",""]))],null,function(l,n){l(n,8,0,n.context.$implicit.trackName),l(n,10,0,n.context.$implicit.artistName)})}function v(l){return u.gb(0,[(l()(),u.Ka(0,0,null,null,6,"ion-header",[],null,null,null,null,null)),u.Ja(1,16384,null,0,o.w,[u.l],null,null),(l()(),u.Ka(2,0,null,null,4,"ion-toolbar",[["color","success"]],null,null,null,null,null)),u.Ja(3,16384,null,0,o.Ua,[u.l],{color:[0,"color"]},null),(l()(),u.Ka(4,0,null,null,2,"ion-title",[],null,null,null,null,null)),u.Ja(5,16384,null,0,o.Va,[],null,null),(l()(),u.eb(-1,null,["Favorites"])),(l()(),u.Ka(7,0,null,null,5,"ion-content",[],null,null,null,null,null)),u.Ja(8,16384,null,0,o.p,[u.l],null,null),(l()(),u.Ka(9,0,null,null,3,"ion-list",[],null,null,null,null,null)),u.Ja(10,16384,null,0,o.I,[],null,null),(l()(),u.Fa(16777216,null,null,1,null,d)),u.Ja(12,802816,null,0,s.i,[u.P,u.M,u.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var t=n.component;l(n,3,0,"success"),l(n,12,0,t.favorites)},null)}var g=t("VStH"),m=t("74Sz"),b=t("2jsQ"),y=function(){function l(l,n,t){this.storage=l,this.event=n,this.navCtrl=t,this.favorites=[]}return l.prototype.ngAfterViewInit=function(){console.log("menu loaded")},l.prototype.ngOnInit=function(){var l=this;this.getKeys(),this.event.subscribe("songAdded",function(n){l.favorites.push(n)}),this.event.subscribe("songRemoved",function(n){console.log(n),l.favorites.splice(l.favorites.indexOf(n),1)})},l.prototype.getKeys=function(){var l=this;this.storage.forEach(function(n){l.favorites.push(n)})},l.prototype.goToDetail=function(l){document.querySelector("ion-nav[main]").push(b.a,{id:l.trackId,track:l})},l}(),k=u.Ia({encapsulation:0,styles:[[""]],data:{}});function S(l){return u.gb(0,[(l()(),u.Ka(0,0,null,null,7,"ion-split-pane",[["when","(min-width: 850px)"]],null,null,null,null,null)),u.Ja(1,16384,null,0,o.Na,[u.l],{when:[0,"when"]},null),(l()(),u.Ka(2,0,null,null,3,"ion-menu",[["side","left"]],null,null,null,null,null)),u.Ja(3,16384,null,0,o.K,[u.l],{side:[0,"side"]},null),(l()(),u.Ka(4,0,null,null,1,"menu-list",[],null,null,null,v,p)),u.Ja(5,114688,null,0,r,[a.l,c.a,h.a,f.a],null,null),(l()(),u.Ka(6,16777216,null,null,1,"ion-router-outlet",[["main",""],["stack","true"]],null,null,null,null,null)),u.Ja(7,212992,null,0,g.a,[a.b,u.P,u.j,u.l,[8,null],[8,"true"],u.h,m.a,a.l],null,null)],function(l,n){l(n,1,0,"(min-width: 850px)"),l(n,3,0,"left"),l(n,5,0),l(n,7,0)},null)}var K=u.Ga("menu-page",y,function(l){return u.gb(0,[(l()(),u.Ka(0,0,null,null,1,"menu-page",[],null,null,null,S,k)),u.Ja(1,4308992,null,0,y,[h.a,c.a,m.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),x=t("/yxp"),I=t("eH3v"),J=t("8AnQ"),w=t("JKMm"),F=function(){};t.d(n,"MenuModuleNgFactory",function(){return C});var C=u.Ha(e,[],function(l){return u.Ra([u.Sa(512,u.j,u.Aa,[[8,[K]],[3,u.j],u.x]),u.Sa(4608,s.l,s.k,[u.u,[2,s.p]]),u.Sa(4608,x.a,x.a,[u.g]),u.Sa(4608,I.a,I.a,[u.j,u.q,x.a]),u.Sa(4608,J.a,J.a,[u.j,u.q,x.a]),u.Sa(1073742336,s.b,s.b,[]),u.Sa(1073742336,w.a,w.a,[]),u.Sa(1073742336,F,F,[]),u.Sa(1073742336,a.m,a.m,[[2,a.q],[2,a.l]]),u.Sa(1073742336,e,e,[]),u.Sa(1024,a.j,function(){return[[{path:"",component:y,children:[{path:"search",loadChildren:"../search/search.module#SearchModule"},{path:"detail/:id",loadChildren:"../track-detail/track-detail.module#TrackDetailModule"},{path:"",redirectTo:"search",pathMatch:"full"}]}]]},[])])})},"2jsQ":function(l,n,t){"use strict";t.d(n,"a",function(){return u}),t("eR42"),t("Vb0S"),t("Buq+");var u=function(){function l(l,n,t,u,e){this.events=l,this.storage=n,this.toastCtrl=t,this.service=u,this.route=e,this.isFavorite=!1,this.favoriteIcon="star-outline"}return l.prototype.ngOnInit=function(){var l=this;this.service.loadSong(this.route.snapshot.params.id).subscribe(function(n){return l.track=n},function(l){return console.log(l)},function(){return l.checkStorage()})},l.prototype.checkStorage=function(){var l=this;this.storage.get(this.track.trackId).then(function(n){n?(l.isFavorite=!0,l.favoriteIcon="star"):(l.isFavorite=!1,l.favoriteIcon="star-outline")})},l.prototype.toggleFavorites=function(){this.isFavorite?(this.toastCtrl.create({message:"Song remove to Favorites",duration:3e3,position:"bottom"}).then(function(l){return l.present()}),this.storage.remove(this.track.trackId),this.isFavorite=!1,this.favoriteIcon="star-outline",this.events.publish("songRemoved",this.track)):(this.toastCtrl.create({message:"Song added to Favorites",duration:3e3,position:"bottom"}).then(function(l){return l.present()}),this.isFavorite=!0,this.favoriteIcon="star",this.storage.set(this.track.trackId,this.track),this.events.publish("songAdded",this.track))},l.prototype.ionViewWillLeave=function(){this.musicCard.stopSong()},l}()}}]);