(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{hOD3:function(l,n,u){"use strict";u.r(n);var t=u("LoAr"),e=function(){},i=u("AnD+"),o=u("ELsb"),r=u("981U"),a=u("WT9V"),c=u("0Ep+"),s=u("eBjM"),h=u("MICl"),p=u("IfiR"),d=u("eR42"),f=u("z5yO"),b=u("D57K"),g=u("DwTn"),m=u("diMa"),v=function(){function l(l,n){this.dueTime=l,this.scheduler=n}return l.prototype.call=function(l,n){return n.subscribe(new y(l,this.dueTime,this.scheduler))},l}(),y=function(l){function n(n,u,t){var e=l.call(this,n)||this;return e.dueTime=u,e.scheduler=t,e.debouncedSubscription=null,e.lastValue=null,e.hasValue=!1,e}return b.b(n,l),n.prototype._next=function(l){this.clearDebounce(),this.lastValue=l,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var l=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(l)}},n.prototype.clearDebounce=function(){var l=this.debouncedSubscription;null!==l&&(this.remove(l),l.unsubscribe(),this.debouncedSubscription=null)},n}(g.a);function S(l){l.debouncedNext()}var x=u("leiK"),J=u("Lh+r"),K=function(){function l(l){this.project=l}return l.prototype.call=function(l,n){return n.subscribe(new _(l,this.project))},l}(),_=function(l){function n(n,u){var t=l.call(this,n)||this;return t.project=u,t.index=0,t}return b.b(n,l),n.prototype._next=function(l){var n,u=this.index++;try{n=this.project(l,u)}catch(l){return void this.destination.error(l)}this._innerSub(n,l,u)},n.prototype._innerSub=function(l,n,u){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=Object(J.a)(this,l,n,u))},n.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||l.prototype._complete.call(this)},n.prototype._unsubscribe=function(){this.innerSubscription=null},n.prototype.notifyComplete=function(n){this.remove(n),this.innerSubscription=null,this.isStopped&&l.prototype._complete.call(this)},n.prototype.notifyNext=function(l,n,u,t,e){this.destination.next(n)},n}(x.a),w=u("2AHp"),C=u("+WaJ"),I=function(){function l(l,n,u){this.nextOrObserver=l,this.error=n,this.complete=u}return l.prototype.call=function(l,n){return n.subscribe(new k(l,this.nextOrObserver,this.error,this.complete))},l}(),k=function(l){function n(n,u,t,e){var i=l.call(this,n)||this;return i._tapNext=w.a,i._tapError=w.a,i._tapComplete=w.a,i._tapError=t||w.a,i._tapComplete=e||w.a,Object(C.a)(u)?(i._context=i,i._tapNext=u):u&&(i._context=u,i._tapNext=u.next||w.a,i._tapError=u.error||w.a,i._tapComplete=u.complete||w.a),i}return b.b(n,l),n.prototype._next=function(l){try{this._tapNext.call(this._context,l)}catch(l){return void this.destination.error(l)}this.destination.next(l)},n.prototype._error=function(l){try{this._tapError.call(this._context,l)}catch(l){return void this.destination.error(l)}this.destination.error(l)},n.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(l){return void this.destination.error(l)}return this.destination.complete()},n}(g.a),T=function(){function l(l,n){this.itunes=l,this.router=n,this.hasSearch=!1,this.listing=[],this.items=Array.from(Array(50).keys()),this.isError=!1,this.showSpinner=!1,this.searchInput=new p.b(""),this.showOverlay=!1}return l.prototype.searchFocused=function(l){this.hasSearch=!0,this.searchInput.value||(this.isError=!1)},l.prototype.searchCleared=function(l){this.hasSearch=!1,this.isError=!1},l.prototype.searchBlured=function(l){this.isError=!1},l.prototype.setSearch=function(l){this.isError=!1,this.hasSearch=!0,this.searchInput.setValue(l)},l.prototype.ngOnInit=function(){var l,n,u,t=this;console.log("search loaded"),this.searchInput.valueChanges.pipe(Object(f.a)(function(l){if(l)return t.showSpinner=!0,t.isError=!1,l;t.listing=[],t.showSpinner=!1}),(void 0===u&&(u=m.a),function(l){return l.lift(new v(500,u))}),(n=function(l){return t.itunes.load(l)},function(l){return l.lift(new K(n))}),(l=function(){t.showOverlay=!1,t.showSpinner=!1},function(n){return n.lift(new I(l,void 0,void 0))})).subscribe(function(l){return t.listing=l.results},function(l){t.showOverlay=!1,t.showSpinner=!1,t.isError=!0,console.log(l)})},l.prototype.detail=function(l){this.router.navigate(["/app/detail",l.trackId])},l}(),j=t.Ia({encapsulation:0,styles:[[""]],data:{}});function B(l){return t.gb(0,[(l()(),t.Ka(0,0,null,null,3,"ion-item",[],null,[[null,"click"]],function(l,n,u){var e=!0,i=l.component;return"click"===n&&(e=!1!==t.Ta(l,2).onClick(u)&&e),"click"===n&&(e=!1!==i.setSearch(l.context.$implicit)&&e),e},null,null)),t.Ja(1,16384,null,0,i.B,[t.l],null,null),t.Ja(2,16384,null,0,o.a,[[2,r.l],t.l],null,null),(l()(),t.eb(3,null,[" "," "]))],null,function(l,n){l(n,3,0,n.context.$implicit)})}function F(l){return t.gb(0,[(l()(),t.Ka(0,0,null,null,5,"div",[["padding",""]],null,null,null,null,null)),(l()(),t.Ka(1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.eb(-1,null,["Trending Bands"])),(l()(),t.Fa(16777216,null,null,2,null,B)),t.Ja(4,802816,null,0,a.i,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null),t.Va(5,3)],function(l,n){l(n,4,0,l(n,5,0,"Pink Floyd","August Burns Red","Alkaline Trio"))},null)}function O(l){return t.gb(0,[(l()(),t.Ka(0,0,null,null,8,"div",[["padding",""],["text-center",""]],null,null,null,null,null)),(l()(),t.Ka(1,0,null,null,1,"ion-icon",[["big",""],["color","secondary"],["name","warning"]],null,null,null,null,null)),t.Ja(2,16384,null,0,c.a,[t.l],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.Ka(3,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t.eb(-1,null,["Uh-oh..."])),(l()(),t.Ka(5,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.eb(-1,null,["It's not me, it's you!"])),(l()(),t.Ka(7,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.eb(-1,null,["It appears there is a connection problem"]))],function(l,n){l(n,2,0,"secondary","warning")},null)}function E(l){return t.gb(0,[(l()(),t.Ka(0,0,null,null,2,"div",[["class","stauts-spinner"],["padding",""],["text-center",""]],null,null,null,null,null)),(l()(),t.Ka(1,0,null,null,1,"ion-spinner",[],null,null,null,null,null)),t.Ja(2,16384,null,0,i.Ma,[t.l],null,null)],null,null)}function V(l){return t.gb(0,[(l()(),t.Ka(0,0,null,null,17,"ion-item",[["detail-none",""]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Ta(l,2).onClick(u)&&e),e},null,null)),t.Ja(1,16384,null,0,i.B,[t.l],{href:[0,"href"]},null),t.Ja(2,16384,null,0,o.a,[[2,r.l],t.l],{href:[0,"href"]},null),(l()(),t.Ka(3,0,null,null,2,"ion-thumbnail",[["slot","start"]],null,null,null,null,null)),t.Ja(4,16384,null,0,i.Sa,[],null,null),(l()(),t.Ka(5,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(l()(),t.Ka(6,0,null,null,7,"ion-label",[],null,null,null,null,null)),t.Ja(7,16384,null,0,i.H,[t.l],null,null),(l()(),t.Ka(8,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.eb(9,null,["",""])),(l()(),t.Ka(10,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.eb(11,null,["",""])),(l()(),t.Ka(12,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.eb(13,null,["",""])),(l()(),t.Ka(14,0,null,null,3,"ion-note",[["slot","end"]],null,null,null,null,null)),t.Ja(15,16384,null,0,i.R,[t.l],null,null),(l()(),t.eb(16,null,[" "," "])),t.Ya(17,1)],function(l,n){l(n,1,0,"/app/detail/"+n.context.$implicit.trackId),l(n,2,0,"/app/detail/"+n.context.$implicit.trackId)},function(l,n){l(n,5,0,n.context.$implicit.artworkUrl100),l(n,9,0,n.context.$implicit.trackName),l(n,11,0,n.context.$implicit.artistName),l(n,13,0,n.context.$implicit.collectionName),l(n,16,0,t.fb(n,16,0,l(n,17,0,t.Ta(n.parent,0),n.context.$implicit.trackTimeMillis)))})}function M(l){return t.gb(0,[t.Wa(0,s.a,[]),t.bb(402653184,1,{list:0}),(l()(),t.Ka(2,0,null,null,19,"ion-header",[],null,null,null,null,null)),t.Ja(3,16384,null,0,i.w,[t.l],null,null),(l()(),t.Ka(4,0,null,null,8,"ion-toolbar",[["color","success"]],null,null,null,null,null)),t.Ja(5,16384,null,0,i.Ua,[t.l],{color:[0,"color"]},null),(l()(),t.Ka(6,0,null,null,3,"ion-buttons",[["slot","start"]],null,null,null,null,null)),t.Ja(7,16384,null,0,i.f,[],null,null),(l()(),t.Ka(8,0,null,null,1,"ion-menu-button",[],null,null,null,null,null)),t.Ja(9,16384,null,0,i.L,[t.l],null,null),(l()(),t.Ka(10,0,null,null,2,"ion-title",[],null,null,null,null,null)),t.Ja(11,16384,null,0,i.Va,[],null,null),(l()(),t.eb(-1,null,["Search"])),(l()(),t.Ka(13,0,null,null,8,"ion-toolbar",[["color","success"]],null,null,null,null,null)),t.Ja(14,16384,null,0,i.Ua,[t.l],{color:[0,"color"]},null),(l()(),t.Ka(15,0,null,null,6,"ion-searchbar",[["placeholder",""],["showCancelButton","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionFocus"],[null,"ionBlur"],[null,"ionCancel"],[null,"input"]],function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Ta(l,17)._handleInputEvent(u.target.value)&&e),"ionBlur"===n&&(e=!1!==t.Ta(l,17)._handleBlurEvent()&&e),"ionFocus"===n&&(e=!1!==i.searchFocused(u)&&e),"ionBlur"===n&&(e=!1!==i.searchBlured(u)&&e),"ionCancel"===n&&(e=!1!==i.searchCleared(u)&&e),e},null,null)),t.Ja(16,16384,null,0,i.Ca,[t.l],{placeholder:[0,"placeholder"],showCancelButton:[1,"showCancelButton"]},{ionCancel:"ionCancel",ionBlur:"ionBlur",ionFocus:"ionFocus"}),t.Ja(17,16384,null,0,h.a,[t.l],null,null),t.Za(1024,null,p.e,function(l){return[l]},[h.a]),t.Ja(19,540672,null,0,p.c,[[8,null],[8,null],[6,p.e],[2,p.l]],{form:[0,"form"]},null),t.Za(2048,null,p.f,null,[p.c]),t.Ja(21,16384,null,0,p.g,[[4,p.f]],null,null),(l()(),t.Ka(22,0,null,null,11,"ion-content",[],null,null,null,null,null)),t.Ja(23,16384,null,0,i.p,[t.l],null,null),(l()(),t.Ka(24,0,null,null,9,"ion-grid",[["fixed",""],["no-padding",""]],null,null,null,null,null)),t.Ja(25,16384,null,0,i.v,[],null,null),(l()(),t.Fa(16777216,null,null,1,null,F)),t.Ja(27,16384,null,0,a.j,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.Fa(16777216,null,null,1,null,O)),t.Ja(29,16384,null,0,a.j,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.Fa(16777216,null,null,1,null,E)),t.Ja(31,16384,null,0,a.j,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.Fa(16777216,null,null,1,null,V)),t.Ja(33,802816,null,0,a.i,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,5,0,"success"),l(n,14,0,"success"),l(n,16,0,"","true"),l(n,19,0,u.searchInput),l(n,27,0,!u.searchInput.value),l(n,29,0,u.isError),l(n,31,0,u.showSpinner),l(n,33,0,u.listing)},function(l,n){l(n,15,0,t.Ta(n,21).ngClassUntouched,t.Ta(n,21).ngClassTouched,t.Ta(n,21).ngClassPristine,t.Ta(n,21).ngClassDirty,t.Ta(n,21).ngClassValid,t.Ta(n,21).ngClassInvalid,t.Ta(n,21).ngClassPending)})}var N=t.Ga("search-page",T,function(l){return t.gb(0,[(l()(),t.Ka(0,0,null,null,1,"search-page",[],null,null,null,M,j)),t.Ja(1,114688,null,0,T,[d.a,r.l],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),A=u("/yxp"),$=u("eH3v"),D=u("8AnQ"),P=u("GiBk"),U=u("JKMm"),R=u("UdS4");u.d(n,"SearchModuleNgFactory",function(){return H});var H=t.Ha(e,[],function(l){return t.Ra([t.Sa(512,t.j,t.Aa,[[8,[N]],[3,t.j],t.x]),t.Sa(4608,a.l,a.k,[t.u,[2,a.p]]),t.Sa(4608,A.a,A.a,[t.g]),t.Sa(4608,$.a,$.a,[t.j,t.q,A.a]),t.Sa(4608,D.a,D.a,[t.j,t.q,A.a]),t.Sa(4608,p.a,p.a,[]),t.Sa(4608,p.k,p.k,[]),t.Sa(4608,d.a,d.a,[P.c]),t.Sa(1073742336,a.b,a.b,[]),t.Sa(1073742336,U.a,U.a,[]),t.Sa(1073742336,r.m,r.m,[[2,r.q],[2,r.l]]),t.Sa(1073742336,R.a,R.a,[]),t.Sa(1073742336,p.j,p.j,[]),t.Sa(1073742336,p.i,p.i,[]),t.Sa(1073742336,e,e,[]),t.Sa(1024,r.j,function(){return[[{path:"",component:T}]]},[])])})}}]);