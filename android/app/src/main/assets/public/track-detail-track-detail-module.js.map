{"version":3,"sources":["webpack:///./src/app/components/music-card/music-card.component.html","webpack:///./src/app/components/music-card/music-card.component.scss","webpack:///./src/app/components/music-card/music-card.component.ts","webpack:///./src/app/components/music-card/music-card.module.ts","webpack:///./src/app/directives/color-from-image/color-from-image.directive.ts","webpack:///./src/app/directives/directives.module.ts","webpack:///./src/app/pages/track-detail/track-detail.module.ts","webpack:///./src/app/pages/track-detail/track-detail.page.html","webpack:///./src/app/pages/track-detail/track-detail.page.ts","webpack:///./src/app/pipes/ms-to-mins/ms-to-mins.module.ts","webpack:///./src/app/pipes/ms-to-mins/ms-to-mins.pipe.ts","webpack:///./src/app/providers/color-thief/color-thief.service.ts","webpack:///./src/app/providers/itunes/itunes.service.ts","webpack:///./src/app/resolver/track-detail-resolver.ts"],"names":[],"mappings":"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","file":"track-detail-track-detail-module.js","sourcesContent":["module.exports = \"<ion-card>\\n  <ion-grid no-padding>\\n    <ion-row align-items-center>\\n      <ion-col col-12 col-md-5>\\n        <div [ngClass]=\\\"{\\n            'playing': ifPlaying ,\\n            'is-seeking': isSeeking\\n          }\\\" class=\\\"track-img\\\">\\n          <img [src]=\\\"fullImage\\\" #img alt=\\\"\\\">\\n          <div class=\\\"background-shadow\\\" [colorFromImage]=\\\"img\\\"></div>\\n        </div>\\n      </ion-col>\\n      <ion-col>\\n        <ion-card-content>\\n          <ion-card-title>\\n            <h2>{{track.trackName}}</h2>\\n          </ion-card-title>\\n          <h3>by {{track.artistName}}</h3>\\n          <em>{{track.collectionName}}</em>\\n\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col col-3>\\n                <ion-fab-button mini (click)=\\\"toggleSong()\\\" color=\\\"light\\\">\\n                  <ion-icon color=\\\"success\\\"  [name]=\\\"ifPlaying ? 'square' : 'play'\\\" ></ion-icon>\\n                </ion-fab-button>\\n              </ion-col>\\n              <ion-col col-9>\\n                <ion-range [(ngModel)]=\\\"progressValue\\\"  max=\\\"100\\\" (ionFocus)=\\\"handleDrag()\\\" (ionBlur)=\\\"seek($event.target.value)\\\"></ion-range>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n        </ion-card-content>\\n        <ion-item>\\n          <p>Track Duration</p>\\n          <ion-badge slot=\\\"end\\\" color=\\\"light\\\">\\n            {{track.trackTimeMillis | msToMins}}\\n          </ion-badge>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-card>\\n\"","module.exports = \"music-card .track-img {\\n  transition: all 500ms cubic-bezier(0.42, 0, 0, 1.93);\\n  -webkit-transform: scale3d(0.8, 0.8, 0.8);\\n          transform: scale3d(0.8, 0.8, 0.8);\\n  max-width: 400px;\\n  margin: auto;\\n  border-radius: 15px; }\\n  music-card .track-img.playing {\\n    -webkit-transform: scale3d(0.89, 0.89, 0.89);\\n            transform: scale3d(0.89, 0.89, 0.89); }\\n  music-card .track-img.is-seeking {\\n    transition: all 100ms linear;\\n    -webkit-transform: scale3d(0.8, 0.8, 0.8) translateY(-35px);\\n            transform: scale3d(0.8, 0.8, 0.8) translateY(-35px); }\\n  music-card .track-img img {\\n    border-radius: 15px; }\\n  music-card .track-img .background-shadow {\\n  height: 100%;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  position: absolute;\\n  width: 100%;\\n  transition: all 300ms cubic-bezier(0.42, 0, 0.36, 1.46);\\n  z-index: -1;\\n  opacity: 0;\\n  background-color: black;\\n  -webkit-filter: blur(20px);\\n          filter: blur(20px);\\n  border-radius: 15px;\\n  -webkit-transform: scale3d(0.84, 0.84, 0.84);\\n          transform: scale3d(0.84, 0.84, 0.84); }\\n  music-card .track-img.playing .background-shadow {\\n  -webkit-transform: scale3d(0.9, 0.9, 0.9) translate3d(0, 35px, 0);\\n          transform: scale3d(0.9, 0.9, 0.9) translate3d(0, 35px, 0); }\\n  music-card .item-md,\\nmusic-card .item-ios {\\n  background-color: transparent; }\\n  .ios music-card .range-ios .range-knob {\\n  transition: -webkit-transform 100ms linear;\\n  transition: transform 100ms linear;\\n  transition: transform 100ms linear, -webkit-transform 100ms linear;\\n  -webkit-transform: scale3d(0.5, 0.5, 0.5);\\n          transform: scale3d(0.5, 0.5, 0.5); }\\n  .ios music-card .range-knob-handle.range-knob-pressed .range-knob {\\n  -webkit-transform: scale3d(0.8, 0.8, 0.8);\\n          transform: scale3d(0.8, 0.8, 0.8); }\\n\"","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\n// import { NativeMedia } from '../../providers/native-media/native-media';\nimport { Howl } from 'howler';\nimport { FormControl } from '@angular/forms';\n@Component({\n  selector: 'music-card',\n  templateUrl: './music-card.component.html',\n  styleUrls: ['./music-card.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MusicCardComponent {\n  public progressValue = 0;\n  @Input() track;\n\n  get fullImage() {\n    return this.track.artworkUrl100.replace(/100x100bb/, '400x400bb');\n  }\n  animationQ;\n  public ifPlaying = false;\n  public isFavorite = false;\n  public player: Howl;\n  public isSeeking: boolean = false;\n  // public nativeMedia: NativeMedia\n  constructor() {}\n  ngOnInit() {\n    this.player = new Howl({\n      src: [this.track.previewUrl],\n      onplay: () => {\n        this.animationQ = requestAnimationFrame(this.setProgress.bind(this));\n      },\n      onend: () => {\n        this.playerEnded();\n      }\n    });\n  }\n  toggleSong() {\n    if (this.ifPlaying) {\n      this.stopSong();\n    } else {\n      this.playSong();\n    }\n  }\n  playSong() {\n    // this.nativeMedia.createMediaControls(this.track;\n    this.player.play();\n    this.ifPlaying = true;\n  }\n  stopSong() {\n    this.ifPlaying = false;\n    this.player.stop();\n    this.progressValue = 0;\n    window.cancelAnimationFrame(this.animationQ);\n  }\n  setProgress() {\n    if (!this.isSeeking) {\n      let seek: any = this.player.seek();\n      this.progressValue = seek / this.player.duration() * 100 || 0;\n      this.animationQ = requestAnimationFrame(this.setProgress.bind(this));\n    }\n  }\n  seek(val) {\n    this.isSeeking = false;\n    let duration = this.player.duration();\n    this.player.seek(duration * (val / 100));\n    this.animationQ = requestAnimationFrame(this.setProgress.bind(this));\n  }\n  handleDrag() {\n    this.isSeeking = true;\n  }\n  playerEnded() {\n    this.ifPlaying = false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { MusicCardComponent } from './music-card.component';\n\nimport { TimePipeModule } from '../../pipes/ms-to-mins/ms-to-mins.module';\nimport { CommonModule } from '@angular/common';\n\nimport { DirectivesModule } from '../../directives/directives.module';\nimport { ColorThiefService } from '../../providers/color-thief/color-thief.service';\n\n@NgModule({\n  declarations: [MusicCardComponent],\n  imports: [TimePipeModule, CommonModule, DirectivesModule, IonicModule, FormsModule],\n  providers: [ColorThiefService],\n  exports: [MusicCardComponent]\n})\nexport class MusicCardComponentModule { }\n","import { Directive, Input, ElementRef } from '@angular/core';\nimport {ColorThiefService} from '../../providers/color-thief/color-thief.service';\n@Directive({\n  selector: '[colorFromImage]' // Attribute selector\n})\nexport class ColorFromImage {\n  @Input() colorFromImage;\n  constructor(public colorThief: ColorThiefService, public el: ElementRef) {}\n  ngAfterViewInit() {\n    this.colorThief\n      .getColorFromUrl(this.colorFromImage.src)\n      .then((res: { dominantColor: number[]; imageUrl: string }) => {\n        let colorMap = res.dominantColor;\n        this.el.nativeElement.style.opacity = 1;\n        this.el.nativeElement.style.backgroundColor = `rgb(${colorMap[0]},${\n          colorMap[1]\n        },${colorMap[2]})`;\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport {ColorFromImage} from './color-from-image/color-from-image.directive';\n@NgModule({\n  declarations: [ColorFromImage],\n  imports: [],\n  exports: [ColorFromImage]\n})\nexport class DirectivesModule {}\n","import { CommonModule } from '@angular/common';\nimport { MusicCardComponentModule } from '../../components/music-card/music-card.module';\n\nimport { IonicModule } from '@ionic/angular';\nimport { ItunesService } from '../../providers/itunes/itunes.service';\nimport { TrackDetailPage } from './track-detail.page';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { TrackResolver } from '../../resolver/track-detail-resolver';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    MusicCardComponentModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: TrackDetailPage,\n        resolve: { track: TrackResolver }\n      }\n    ])\n  ],\n  declarations: [TrackDetailPage],\n  providers: [ItunesService, TrackResolver]\n})\nexport class TrackDetailModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"success\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"app/search\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{track?.trackName}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"toggleFavorites()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" [name]=\\\"favoriteIcon\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col col-sm-10 offset-sm-1>\\n          <music-card *ngIf=\\\"track\\\" #musicCard [track]=\\\"track\\\"></music-card>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-list>\\n</ion-content>\\n\"","import { ActivatedRoute, Router } from '@angular/router';\nimport { Component, ViewChild } from '@angular/core';\nimport { ItunesService } from '../../providers/itunes/itunes.service';\nimport { Events, ToastController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'track-detail-page',\n  templateUrl: './track-detail.page.html'\n})\nexport class TrackDetailPage {\n  @ViewChild('musicCard') musicCard;\n  public track;\n  public isFavorite = false;\n  public favoriteIcon = 'star-outline';\n\n  constructor(\n    public events: Events,\n    public storage: Storage,\n    public toastCtrl: ToastController,\n    public service: ItunesService,\n    private route: ActivatedRoute\n  ) {}\n\n  ionViewDidEnter() {\n    this.track = this.route.snapshot.data['track'];\n    this.checkStorage();\n  }\n  checkStorage() {\n    this.storage.get(this.track.trackId).then(res => {\n      if (!res) {\n        this.isFavorite = false;\n        this.favoriteIcon = 'star-outline';\n      } else {\n        this.isFavorite = true;\n        this.favoriteIcon = 'star';\n      }\n    });\n  }\n  toggleFavorites() {\n    let addedToast = {\n      message: 'Song added to Favorites',\n      duration: 3000,\n      position: 'bottom'\n    };\n    let removedToast = {\n      message: 'Song remove to Favorites',\n      duration: 3000,\n      position: 'bottom'\n    };\n    if (!this.isFavorite) {\n      this.toastCtrl.create(addedToast).then(toast => toast.present());\n      this.isFavorite = true;\n      this.favoriteIcon = 'star';\n      this.storage.set(this.track.trackId, this.track);\n      this.events.publish('songAdded', this.track);\n    } else {\n      this.toastCtrl.create(removedToast).then(toast => toast.present());\n      this.storage.remove(this.track.trackId);\n      this.isFavorite = false;\n      this.favoriteIcon = 'star-outline';\n      this.events.publish('songRemoved', this.track);\n    }\n  }\n  ionViewWillLeave() {\n    this.musicCard.stopSong();\n    // this.nativeMedia.destroy();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { MsToMinsPipe } from './ms-to-mins.pipe';\n\n@NgModule({\n  declarations: [MsToMinsPipe],\n  exports: [MsToMinsPipe]\n})\nexport class TimePipeModule {}\n","import { Pipe } from '@angular/core';\n@Pipe({\n  name: 'msToMins'\n})\nexport class MsToMinsPipe {\n  transform(value?: number) {\n    return this.durationFromMsHelper(value);\n  }\n  pad2(num) {\n    if (num <= 99) {\n      num = ('0' + num).slice(-2);\n    }\n    return num;\n  }\n  durationFromMsHelper(ms) {\n    let x: number = ms / 1000;\n    let seconds: number = this.pad2(Math.floor(x % 60));\n    x /= 60;\n    let minutes: number = this.pad2(Math.floor(x % 60));\n    x /= 60;\n    let hours: number = Math.floor(x % 24);\n    let newHours = hours ? this.pad2(hours) + ':' : '';\n    return newHours + minutes + ':' + seconds;\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ColorThiefService {\n\n  // Adaptation of ColorThief : http://lokeshdhakar.com/projects/color-thief/\n  getPalette(sourceImage, colorCount?: number, quality?: number) {\n    if (\n      typeof colorCount === 'undefined' ||\n      colorCount < 2 ||\n      colorCount > 256\n    ) {\n      colorCount = 10;\n    }\n    if (typeof quality === 'undefined' || quality < 1) {\n      quality = 10;\n    }\n\n    // Create custom CanvasImage object\n    var image = new CanvasImage(sourceImage);\n    var imageData = image.getImageData();\n    var pixels = imageData.data;\n    var pixelCount = image.getPixelCount();\n\n    // Store the RGB values in an array format suitable for quantize function\n    var pixelArray = [];\n    for (var i = 0, offset, r, g, b, a; i < pixelCount; i = i + quality) {\n      offset = i * 4;\n      r = pixels[offset + 0];\n      g = pixels[offset + 1];\n      b = pixels[offset + 2];\n      a = pixels[offset + 3];\n      // If pixel is mostly opaque and not white\n      if (a >= 125) {\n        if (!(r > 250 && g > 250 && b > 250)) {\n          pixelArray.push([r, g, b]);\n        }\n      }\n    }\n\n    // Send array to quantize function which clusters values\n    // using median cut algorithm\n    var cmap = MMCQ.quantize(pixelArray, colorCount);\n    var palette = cmap ? cmap.palette() : null;\n\n    // Clean up\n    image.removeCanvas();\n\n    return palette;\n  }\n  getColor(sourceImage, quality = 10) {\n    var palette = this.getPalette(sourceImage, 5, quality);\n    var dominantColor = palette[0];\n    return dominantColor;\n  }\n  getColorFromUrl(imageUrl, quality = 10) {\n    return new Promise((resolve, reject) => {\n      let sourceImage = new Image()\n      sourceImage.crossOrigin = \"Anonymous\"\n      let dominantColor, palette;\n      sourceImage.addEventListener('load', () => {\n        palette = this.getPalette(sourceImage, 5, quality);\n        dominantColor = palette[0];\n        resolve({ dominantColor, imageUrl });\n      });\n      sourceImage.src = imageUrl\n      sourceImage.addEventListener('error', reject.bind(this))\n    })\n  };\n\n}\nconst pv = {\n  map(array, f?) {\n    const o = {};\n    return f\n      ? array.map((d, i) => {\n        o['index'] = i;\n        return f.call(o, d);\n      })\n      : array.slice();\n  },\n  naturalOrder(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n  },\n  sum(array, f?) {\n    const o = {};\n    return array.reduce(\n      f\n        ? (p, d, i) => {\n          o['index'] = i;\n          return p + f.call(o, d);\n        }\n        : (p, d) => p + d,\n      0\n    );\n  },\n  max(array, f?) {\n    return Math.max.apply(null, f ? pv.map(array, f) : array);\n  }\n};\nconst MMCQ = (() => {\n  // private constants\n  const sigbits = 5;\n\n  const rshift = 8 - sigbits;\n  const maxIterations = 1000;\n  const fractByPopulations = 0.75;\n\n  // get reduced-space color index for a pixel\n  function getColorIndex(r, g, b) {\n    return (r << (2 * sigbits)) + (g << sigbits) + b;\n  }\n\n  // Simple priority queue\n  class PQueue {\n    public contents = [];\n    public sorted = false;\n    constructor(public comparator) {\n\n    }\n\n    sort() {\n      this.contents.sort(this.comparator);\n      this.sorted = true;\n    }\n    push(o) {\n      this.contents.push(o);\n      this.sorted = false;\n    }\n    peek(index) {\n      if (!this.sorted) this.sort();\n      if (index === undefined) index = this.contents.length - 1;\n      return this.contents[index];\n    }\n    pop() {\n      if (!this.sorted) this.sort();\n      return this.contents.pop();\n    }\n    size() {\n      return this.contents.length;\n    }\n    map(f) {\n      return this.contents.map(f);\n    }\n    debug() {\n      if (!this.sorted) this.sort();\n      return this.contents;\n    }\n  }\n\n  // 3d color space box\n  class VBox {\n    r1;\n    r2;\n    g1;\n    g2;\n    b1;\n    b2;\n    histo;\n    _avg;\n    _count_set;\n    _count;\n    _volume;\n    constructor(r1, r2, g1, g2, b1, b2, histo) {\n      this.r1 = r1;\n      this.r2 = r2;\n      this.g1 = g1;\n      this.g2 = g2;\n      this.b1 = b1;\n      this.b2 = b2;\n      this.histo = histo;\n    }\n\n    volume(force) {\n      if (!this._volume || force) {\n        this._volume =\n          (this.r2 - this.r1 + 1) *\n          (this.g2 - this.g1 + 1) *\n          (this.b2 - this.b1 + 1);\n      }\n      return this._volume;\n    }\n\n    count(force) {\n      if (!this._count_set || force) {\n        let npix = 0;\n        let i;\n        let j;\n        let k;\n        for (i = this.r1; i <= this.r2; i++) {\n          for (j = this.g1; j <= this.g2; j++) {\n            for (k = this.b1; k <= this.b2; k++) {\n              let index = getColorIndex(i, j, k);\n              npix += this.histo[index] || 0;\n            }\n          }\n        }\n        this._count = npix;\n        this._count_set = true;\n      }\n      return this._count;\n    }\n\n    copy() {\n      return new VBox(\n        this.r1,\n        this.r2,\n        this.g1,\n        this.g2,\n        this.b1,\n        this.b2,\n        this.histo\n      );\n    }\n\n    avg(force) {\n      if (!this._avg || force) {\n        let ntot = 0;\n        const mult = 1 << (8 - sigbits);\n        let rsum = 0;\n        let gsum = 0;\n        let bsum = 0;\n        let hval;\n        let i;\n        let j;\n        let k;\n        let histoindex;\n        for (i = this.r1; i <= this.r2; i++) {\n          for (j = this.g1; j <= this.g2; j++) {\n            for (k = this.b1; k <= this.b2; k++) {\n              histoindex = getColorIndex(i, j, k);\n              hval = this.histo[histoindex] || 0;\n              ntot += hval;\n              rsum += hval * (i + 0.5) * mult;\n              gsum += hval * (j + 0.5) * mult;\n              bsum += hval * (k + 0.5) * mult;\n            }\n          }\n        }\n        if (ntot) {\n          this._avg = [~~(rsum / ntot), ~~(gsum / ntot), ~~(bsum / ntot)];\n        } else {\n          console.log('empty box');\n          this._avg = [\n            ~~(mult * (this.r1 + this.r2 + 1) / 2),\n            ~~(mult * (this.g1 + this.g2 + 1) / 2),\n            ~~(mult * (this.b1 + this.b2 + 1) / 2)\n          ];\n        }\n      }\n      return this._avg;\n    }\n\n    contains(pixel) {\n      const rval = pixel[0] >> rshift;\n      let gval = pixel[1] >> rshift;\n      let bval = pixel[2] >> rshift;\n      return (\n        rval >= this.r1 &&\n        rval <= this.r2 &&\n        gval >= this.g1 &&\n        rval <= this.g2 &&\n        bval >= this.b1 &&\n        rval <= this.b2\n      );\n    }\n  }\n\n  // Color map\n  class CMap {\n    vboxes;\n    constructor() {\n      this.vboxes = new PQueue((a, b) =>\n        pv.naturalOrder(\n          a.vbox.count() * a.vbox.volume(),\n          b.vbox.count() * b.vbox.volume()\n        )\n      );\n    }\n\n    push(vbox) {\n      this.vboxes.push({\n        vbox,\n        color: vbox.avg()\n      });\n    }\n\n    palette() {\n      return this.vboxes.map(vb => vb.color);\n    }\n\n    size() {\n      return this.vboxes.size();\n    }\n\n    map(color) {\n      const vboxes = this.vboxes;\n      for (let i = 0; i < vboxes.size(); i++) {\n        if (vboxes.peek(i).vbox.contains(color)) {\n          return vboxes.peek(i).color;\n        }\n      }\n      return this.nearest(color);\n    }\n\n    nearest(color) {\n      const vboxes = this.vboxes;\n      let d1;\n      let d2;\n      let pColor;\n      for (let i = 0; i < vboxes.size(); i++) {\n        d2 = Math.sqrt(\n          (color[0] - vboxes.peek(i).color[0]) ** 2 +\n          (color[1] - vboxes.peek(i).color[1]) ** 2 +\n          (color[1] - vboxes.peek(i).color[1]) ** 2\n        );\n        if (d2 < d1 || d1 === undefined) {\n          d1 = d2;\n          pColor = vboxes.peek(i).color;\n        }\n      }\n      return pColor;\n    }\n\n    forcebw() {\n      // XXX: won't  work yet\n      const vboxes = this.vboxes;\n      vboxes.sort((a, b) => pv.naturalOrder(pv.sum(a.color), pv.sum(b.color)));\n\n      // force darkest color to black if everything < 5\n      const lowest = vboxes[0].color;\n      if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n        vboxes[0].color = [0, 0, 0];\n\n      // force lightest color to white if everything > 251\n      const idx = vboxes.length - 1;\n\n      const highest = vboxes[idx].color;\n      if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n        vboxes[idx].color = [255, 255, 255];\n    }\n  }\n\n  // histo (1-d array, giving the number of pixels in\n  // each quantized region of color space), or null on error\n  function getHisto(pixels) {\n    const histosize = 1 << (3 * sigbits);\n    const histo = new Array(histosize);\n    let index;\n    let rval;\n    let gval;\n    let bval;\n    pixels.forEach(pixel => {\n      rval = pixel[0] >> rshift;\n      gval = pixel[1] >> rshift;\n      bval = pixel[2] >> rshift;\n      index = getColorIndex(rval, gval, bval);\n      histo[index] = (histo[index] || 0) + 1;\n    });\n    return histo;\n  }\n\n  function vboxFromPixels(pixels, histo) {\n    let rmin = 1000000;\n    let rmax = 0;\n    let gmin = 1000000;\n    let gmax = 0;\n    let bmin = 1000000;\n    let bmax = 0;\n    let rval;\n    let gval;\n    let bval;\n    // find min/max\n    pixels.forEach(pixel => {\n      rval = pixel[0] >> rshift;\n      gval = pixel[1] >> rshift;\n      bval = pixel[2] >> rshift;\n      if (rval < rmin) rmin = rval;\n      else if (rval > rmax) rmax = rval;\n      if (gval < gmin) gmin = gval;\n      else if (gval > gmax) gmax = gval;\n      if (bval < bmin) bmin = bval;\n      else if (bval > bmax) bmax = bval;\n    });\n    return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n  }\n\n  function medianCutApply(histo, vbox) {\n    if (!vbox.count()) return;\n\n    const rw = vbox.r2 - vbox.r1 + 1;\n    const gw = vbox.g2 - vbox.g1 + 1;\n    const bw = vbox.b2 - vbox.b1 + 1;\n    const maxw = pv.max([rw, gw, bw]);\n    // only one pixel, no split\n    if (vbox.count() == 1) {\n      return [vbox.copy()];\n    }\n\n    /* Find the partial sum arrays along the selected axis. */\n    let total = 0;\n\n    const partialsum = [];\n    const lookaheadsum = [];\n    let i;\n    let j;\n    let k;\n    let sum;\n    let index;\n    if (maxw == rw) {\n      for (i = vbox.r1; i <= vbox.r2; i++) {\n        sum = 0;\n        for (j = vbox.g1; j <= vbox.g2; j++) {\n          for (k = vbox.b1; k <= vbox.b2; k++) {\n            index = getColorIndex(i, j, k);\n            sum += histo[index] || 0;\n          }\n        }\n        total += sum;\n        partialsum[i] = total;\n      }\n    } else if (maxw == gw) {\n      for (i = vbox.g1; i <= vbox.g2; i++) {\n        sum = 0;\n        for (j = vbox.r1; j <= vbox.r2; j++) {\n          for (k = vbox.b1; k <= vbox.b2; k++) {\n            index = getColorIndex(j, i, k);\n            sum += histo[index] || 0;\n          }\n        }\n        total += sum;\n        partialsum[i] = total;\n      }\n    } else {\n      /* maxw == bw */\n      for (i = vbox.b1; i <= vbox.b2; i++) {\n        sum = 0;\n        for (j = vbox.r1; j <= vbox.r2; j++) {\n          for (k = vbox.g1; k <= vbox.g2; k++) {\n            index = getColorIndex(j, k, i);\n            sum += histo[index] || 0;\n          }\n        }\n        total += sum;\n        partialsum[i] = total;\n      }\n    }\n    partialsum.forEach((d, i) => {\n      lookaheadsum[i] = total - d;\n    });\n    function doCut(color) {\n      const dim1 = `${color}1`;\n      const dim2 = `${color}2`;\n      let left;\n      let right;\n      let vbox1;\n      let vbox2;\n      let d2;\n      let count2 = 0;\n      for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n        if (partialsum[i] > total / 2) {\n          vbox1 = vbox.copy();\n          vbox2 = vbox.copy();\n          left = i - vbox[dim1];\n          right = vbox[dim2] - i;\n          if (left <= right) d2 = Math.min(vbox[dim2] - 1, ~~(i + right / 2));\n          else d2 = Math.max(vbox[dim1], ~~(i - 1 - left / 2));\n          // avoid 0-count boxes\n          while (!partialsum[d2]) d2++;\n          count2 = lookaheadsum[d2];\n          while (!count2 && partialsum[d2 - 1]) count2 = lookaheadsum[--d2];\n          // set dimensions\n          vbox1[dim2] = d2;\n          vbox2[dim1] = vbox1[dim2] + 1;\n          return [vbox1, vbox2];\n        }\n      }\n    }\n    // determine the cut planes\n    return maxw == rw ? doCut('r') : maxw == gw ? doCut('g') : doCut('b');\n  }\n\n  function quantize(pixels, maxcolors) {\n    // short-circuit\n    if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n      console.log('wrong number of maxcolors');\n      return false;\n    }\n\n    // XXX: check color content and convert to grayscale if insufficient\n\n    const histo = getHisto(pixels);\n\n    // const histosize = 1 << (3 * sigbits);\n\n    // check that we aren't below maxcolors already\n    let nColors = 0;\n    histo.forEach(() => {\n      nColors++;\n    });\n    if (nColors <= maxcolors) {\n      // XXX: generate the new colors from the histo and return\n    }\n\n    // get the beginning vbox from the colors\n    const vbox = vboxFromPixels(pixels, histo);\n\n    const pq = new PQueue((a, b) => pv.naturalOrder(a.count(), b.count()));\n    pq.push(vbox);\n\n    // inner function to do the iteration\n    function iter(lh, target) {\n      let ncolors = 1;\n      let niters = 0;\n      let vbox;\n      while (niters < maxIterations) {\n        vbox = lh.pop();\n        if (!vbox.count()) {\n          /* just put it back */\n          lh.push(vbox);\n          niters++;\n          continue;\n        }\n\n        // do the cut\n        const vboxes = medianCutApply(histo, vbox);\n\n        const vbox1 = vboxes[0];\n        const vbox2 = vboxes[1];\n\n        if (!vbox1) {\n          console.log(\"vbox1 not defined; shouldn't happen!\");\n          return;\n        }\n        lh.push(vbox1);\n        if (vbox2) {\n          /* vbox2 can be null */\n          lh.push(vbox2);\n          ncolors++;\n        }\n        if (ncolors >= target) return;\n        if (niters++ > maxIterations) {\n          console.log('infinite loop; perhaps too few pixels!');\n          return;\n        }\n      }\n    }\n\n    // first set of colors, sorted by population\n    iter(pq, fractByPopulations * maxcolors);\n    // console.log(pq.size(), pq.debug().length, pq.debug().slice());\n\n    // Re-sort by the product of pixel occupancy times the size in color space.\n    const pq2 = new PQueue((a, b) =>\n      pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume())\n    );\n    while (pq.size()) {\n      pq2.push(pq.pop());\n    }\n\n    // next set - generate the median cuts using the (npix * vol) sorting.\n    iter(pq2, maxcolors - pq2.size());\n\n    // calculate the actual colors\n    const cmap = new CMap();\n    while (pq2.size()) {\n      cmap.push(pq2.pop());\n    }\n\n    return cmap;\n  }\n\n  return {\n    quantize\n  };\n})();\nclass CanvasImage {\n  canvas;\n  context;\n  width;\n  height;\n  constructor(image: HTMLImageElement) {\n\n    this.canvas = document.createElement('canvas');\n    this.context = this.canvas.getContext('2d');\n    document.body.appendChild(this.canvas);\n    this.width = this.canvas.width = image.width;\n    this.height = this.canvas.height = image.height;\n    this.context.drawImage(image, 0, 0, this.width, this.height);\n  }\n\n  clear() {\n    this.context.clearRect(0, 0, this.width, this.height);\n  }\n\n  update(imageData) {\n    this.context.putImageData(imageData, 0, 0);\n  }\n\n  getPixelCount() {\n    return this.width * this.height;\n  }\n\n  getImageData() {\n    return this.context.getImageData(0, 0, this.width, this.height);\n  }\n\n  removeCanvas() {\n    this.canvas.parentNode.removeChild(this.canvas);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { timeout, retryWhen, delay, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class ItunesService {\n  constructor(public http: HttpClient) {}\n  public load(query): Observable<any> {\n    return this.http\n      .get(\n        `https://itunes.apple.com/search?term=${encodeURIComponent(\n          query\n        )}&media=music`\n      )\n      .pipe(\n        retryWhen(error => error.pipe(delay(500))),\n        timeout(5000),\n        map((res: any) => res.results)\n      );\n  }\n\n  public loadSong(songId): Observable<any> {\n    return this.http\n      .get(`https://itunes.apple.com/lookup?id=${songId}`)\n      .pipe(\n        retryWhen(error => error.pipe(delay(500))),\n        timeout(5000),\n        map((res: any) => res.results[0])\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\nimport { ItunesService } from '../providers/itunes/itunes.service';\n\n@Injectable()\nexport class TrackResolver implements Resolve<any> {\n  constructor(private itunes: ItunesService) {}\n  resolve(route: ActivatedRouteSnapshot): Observable<any> {\n    return this.itunes.loadSong(route.params.id);\n  }\n}\n"],"sourceRoot":""}